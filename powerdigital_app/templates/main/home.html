
{% extends 'main/base.html' %}
{% block content %}

{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Exchange</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #0f172a;
      color: #ffffff;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .card-hover {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }

    .market-row {
      transition: background-color 0.2s ease;
    }
  </style>
</head>
<body class="min-h-screen">



<!-- Profile Icon -->
<a href="{% url 'profile' %}" class="fixed left-4 top-4 z-50">
  <img src="{% static 'image/user_icon.png' %}" alt="Profile"
       style="height: 2rem; filter: invert(1) sepia(1) saturate(5000%) hue-rotate(120deg);">
</a>
  <br>
    <div class="d-flex align-items-center justify-content-center gap-3 mb-8">
                    
        <img src="{% static 'image/logos.png' %}" alt="Logo" style="height: 3rem;">
        <h4 class="m-0" style="font-size: 2rem;color: #65e4e4;">Power Digital</h4>
    </div>

<!-- Banner Slider -->
<div class="px-4 mt-8 mb-6">
  <div id="bannerSlider" class="flex snap-x snap-mandatory overflow-x-auto rounded-2xl shadow-lg no-scrollbar scroll-smooth">
    {% if banner_set.banner1 %}
      <div class="flex-shrink-0 w-full snap-center">
        <img src="{{ banner_set.banner1.url }}" class="w-full h-56 sm:h-64 object-cover rounded-2xl" alt="Banner 1">
      </div>
    {% endif %}
    {% if banner_set.banner2 %}
      <div class="flex-shrink-0 w-full snap-center">
        <img src="{{ banner_set.banner2.url }}" class="w-full h-56 sm:h-64 object-cover rounded-2xl" alt="Banner 2">
      </div>
    {% endif %}
    {% if banner_set.banner3 %}
      <div class="flex-shrink-0 w-full snap-center">
        <img src="{{ banner_set.banner3.url }}" class="w-full h-56 sm:h-64 object-cover rounded-2xl" alt="Banner 3">
      </div>
    {% endif %}
  </div>
</div>

<!-- Navigation Cards -->
<div class="grid grid-cols-2 sm:grid-cols-4 gap-4 px-4 mb-12">
  <a href="{% url 'deposit_list' %}" class="bg-gray-800 rounded-xl p-4 text-center card-hover">
    <img src="{% static 'image/icon-1.png' %}" class="mx-auto mb-2 w-8 h-8" alt="Deposit">
    <span class="text-sm font-semibold">{% trans "Deposit" %}</span>
  </a>
  <a href="{% url 'withdrawal_success' %}" class="bg-gray-800 rounded-xl p-4 text-center card-hover">
    <img src="{% static 'image/icon-2.png' %}" class="mx-auto mb-2 w-8 h-8" alt="Withdraw">
    <span class="text-sm font-semibold">{% trans "Withdraw" %}</span>
  </a>
  <a href="{% url 'subscription_list' %}" class="bg-gray-800 rounded-xl p-4 text-center card-hover">
    <img src="{% static 'image/icon-3.png' %}" class="mx-auto mb-2 w-8 h-8" alt="IEO">
    <span class="text-sm font-semibold">IEO</span>
  </a>
  <a href="{% url 'staking' %}" class="bg-gray-800 rounded-xl p-4 text-center card-hover">
    <img src="{% static 'image/icon-4.png' %}" class="mx-auto mb-2 w-8 h-8" alt="Staking">
    <span class="text-sm font-semibold">Staking</span>
  </a>
</div>

<!-- Live Market Section -->
<div class="bg-gray-800 rounded-2xl mx-4 px-4 py-6 shadow-md mb-20">
  <!-- Header -->
  <div class="grid grid-cols-3 gap-4 text-gray-300 text-sm font-semibold border-b border-gray-700 pb-2 mb-2">
    <p class="text-left">{% trans "Trading Pair" %}</p>
    <p class="text-center">{% trans "Latest Price" %}</p>
    <p class="text-right">{% trans "Ups and Downs" %}</p>
  </div>

  <!-- Market List -->
  <ul id="market-list" class="divide-y divide-gray-700 text-sm text-gray-200 font-medium"></ul>
</div>

<script>
  fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1")
  .then(res => res.json())
  .then(data => {
    const list = document.getElementById("market-list");
    data.forEach(coin => {
      const changeClass = coin.price_change_percentage_24h >= 0 ? 'text-green-400' : 'text-red-400';
      const changeSymbol = coin.price_change_percentage_24h >= 0 ? '+' : '';
      list.innerHTML += `
        <li class="grid grid-cols-3 gap-4 py-3 items-center">
          <div class="flex items-center gap-2">
            <img src="${coin.image}" class="w-6 h-6 rounded-full" alt="${coin.symbol}">
            <span>${coin.symbol.toUpperCase()}/USD</span>
          </div>
          <div class="text-center">$${coin.current_price.toLocaleString(undefined, {minimumFractionDigits: 2})}</div>
          <div class="text-right ${changeClass}">${changeSymbol}${coin.price_change_percentage_24h.toFixed(2)}%</div>
        </li>`;
    });
  })
  .catch(error => console.error('Error fetching market data:', error));
</script>
<script>
  const slider = document.getElementById('bannerSlider');
  const slides = slider.children;
  let index = 0;
  setInterval(() => {
    index = (index + 1) % slides.length;
    slider.scrollTo({
      left: slides[index].offsetLeft,
      behavior: 'smooth'
    });
  }, 5000);
</script>

</body>
</html>
{% endblock %}










